(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3416)}])},3416:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return w}});var n=t(7568),o=t(4051),s=t.n(o),a=t(5893),i=t(9008),c=t.n(i),d=t(1664),u=t.n(d),l=t(7294),_=t(214),h=t.n(_),m=t(813),x=t(6876),f=t.n(x),v=t(3750),p=t(6893),k=t(5089),j=function(e){var r=e.data,t=e.handleDelete;return(0,a.jsx)("div",{className:f().workoutContainer,children:null===r||void 0===r?void 0:r.map((function(e){return(0,a.jsxs)("div",{className:f().container,children:[(0,a.jsxs)("p",{className:f().title,children:[" ","Title: ","",e.title]}),(0,a.jsxs)("p",{className:f().load,children:[" ","Load(kg): ","  ",e.loads]}),(0,a.jsxs)("p",{className:f().reps,children:["Reps:",e.reps]}),(0,a.jsxs)("p",{className:f().time,children:["created:"," ",(0,k.Z)(new Date(e.inserted_at),{addSuffix:!0})]}),(0,a.jsxs)("div",{className:f().buttons,children:[(0,a.jsx)(u(),{href:"/edit/".concat(e.id),children:(0,a.jsx)("a",{className:f().edit,children:(0,a.jsx)(p.vPQ,{})})}),(0,a.jsx)("button",{onClick:function(){return t(e.id)},className:f().delete,children:(0,a.jsx)(v.yvY,{})})]})]},e.id)}))})};function w(e){var r=e.session,t=(0,l.useState)([]),o=t[0],i=t[1],d=(0,l.useState)(!0),_=d[0],x=d[1];(0,l.useEffect)((function(){f()}),[]);var f=function(){var e=(0,n.Z)(s().mark((function e(){var r,t,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.O.auth.user(),e.prev=1,x(!0),e.next=5,m.O.from("workouts").select("*").eq("user_id",null===r||void 0===r?void 0:r.id);case 5:if(t=e.sent,n=t.data,!(o=t.error)){e.next=10;break}throw o;case 10:i(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),alert(e.t0.message);case 16:return e.prev=16,x(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}();if(_)return(0,a.jsx)("div",{className:h().loading,children:"Fetching Workouts..."});var v=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=m.O.auth.user(),e.next=4,m.O.from("workouts").delete().eq("id",r).eq("user_id",null===t||void 0===t?void 0:t.id);case 4:if(n=e.sent,n.data,o=n.error,f(),!o){e.next=10;break}throw o;case 10:alert("Workout deleted successfully"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),alert(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r){return e.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:h().container,children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:"Nextjs x Supabase"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)("div",{className:h().home,children:(null===r||void 0===r?void 0:r.user)?(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:h().workoutHeading,children:["Hello ",(0,a.jsx)("span",{className:h().email,children:r.user.email}),", Welcome to your dashboard"]}),0===(null===o||void 0===o?void 0:o.length)?(0,a.jsxs)("div",{className:h().noWorkout,children:[(0,a.jsx)("p",{children:"You have no workouts yet"}),(0,a.jsx)(u(),{href:"/create",children:(0,a.jsxs)("button",{className:h().button,children:[" ","Create a New Workout"]})})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:h().workoutHeading,children:"Here are your workouts"}),(0,a.jsx)(j,{data:o,handleDelete:v})]})]}):(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:"Welcome to MTD Technologies. Kindly Login to your account or sign in for a demo"})})})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",home:"Home_home__V_V4i",button:"Home_button__Zs7A2",workoutHeading:"Home_workoutHeading__nUdMO",email:"Home_email__qVVPi",noWorkout:"Home_noWorkout__uRV23",loading:"Home_loading__IsZ5F"}},6876:function(e){e.exports={container:"WorkoutCard_container__oWGjM",workoutContainer:"WorkoutCard_workoutContainer__meROK",title:"WorkoutCard_title___FujM",load:"WorkoutCard_load__7Me7c",reps:"WorkoutCard_reps__G5grp",time:"WorkoutCard_time__ayheD",buttons:"WorkoutCard_buttons__qmzrz",delete:"WorkoutCard_delete__QO3ig",edit:"WorkoutCard_edit__i1Ud9"}}},function(e){e.O(0,[13,478,774,888,179],(function(){return r=5557,e(e.s=r);var r}));var r=e.O();_N_E=r}]);